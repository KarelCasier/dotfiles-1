- defaults:
    link:
        force: true
        relink: true

- clean:
    - '~'
    - 'usr/bin'

- shell:
    -
        - git submodule update --init --recursive
        - Installing submodules
    -
        - git submodule foreach git pull origin master
        - Updating submodules
    -
        - mkdir -p ~/.vifm/colors & mkdir -p ~/.vimperator & mkdir -p ~/.kwm & mkdir -p ~/.karabiner.d/configuration & mkdir -p usr/bin & mkdir -p usr/vim
        - Creating directory structure
    -
        - 'echo "export ADRC="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"" > usr/adrc; touch usr/gitconfig'
        - Setting up home directory
    -
        - curl https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -o ~/.git-prompt.sh
        - Installing git prompt for bash
    -
        - lib/bash/fzf/install --all --no-update-rc
        - Installing fuzzy finder for bash
    -
        - cp -Rf "lib/macos/bar.widget/" "$HOME/Library/Application Support/Ãœbersicht/widgets/bar.widget" & true
        - Installing Ubersicht widget

- link:
    $HOME/.adrc: usr/adrc
    $HOME/.dotfiles: dotfiles
    $HOME/.bash_profile: dotfiles/bash_profile
    $HOME/.bashrc: dotfiles/bashrc
    $HOME/.vimrc: dotfiles/vimrc
    $HOME/.tmux.conf: dotfiles/tmux.conf
    $HOME/.ideavimrc: dotfiles/ideavimrc
    $HOME/.vifm/vifmrc: dotfiles/vifmrc
    $HOME/.vifm/colors/solarized-dark.vifm: lib/vifm/vifm-colors/solarized-dark.vifm
    $HOME/.vimperatorrc: dotfiles/vimperatorrc
    $HOME/.vimperator/colors: lib/firefox/vimperator/colors
    $HOME/.kwm/kwmrc: dotfiles/kwmrc
    $HOME/.khdrc: dotfiles/khdrc
    $HOME/.inputrc: dotfiles/inputrc
    $HOME/.gitconfig: dotfiles/gitconfig
    $HOME/.gitignore: dotfiles/gitignore
    $HOME/.gitconfig.local: usr/gitconfig
    $HOME/.gitmessage: dotfiles/gitmessage
    $HOME/.karabiner.d/configuration/karabiner.json: dotfiles/karabiner.json
