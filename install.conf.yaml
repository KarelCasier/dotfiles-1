- defaults:
    link:
        force: true
        relink: true

- clean:
    - '~'
    - 'usr/bin'

- shell:
    -
        - git submodule update --init --recursive
        - Initializing submodules
    -
        - git submodule foreach git pull origin master
        - Updating submodules
    -
        - mkdir -p ~/.vimperator & mkdir -p ~/.kwm & mkdir -p ~/.config/bspwm & mkdir -p ~/.config/sxhkd & mkdir -p ~/.karabiner.d/configuration & mkdir -p usr/bin & mkdir -p usr/vim & mkdir -p ~/.config/dunst & mkdir -p ~/.ncmpcpp & mkdir -p ~/.vim/undodir & mkdir -p ~/.config/polybar & mkdir -p ~/.config/qutebrowser & mkdir -p ~/Library/Preferences/qutebrowser
        - Creating directory structure
    -
        - 'echo "export DOTHOME="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"" > usr/dotconfig; touch usr/gitconfig'
        - Setting up home directory
    -
        - curl https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -o ~/.git-prompt.sh
        - Downloading git prompt for bash
    -
        - lib/bash/fzf/install --all --no-update-rc
        - Installing fuzzy finder for bash
    -
        - cp -Rf "lib/macos/bar.widget/" "$HOME/Library/Application Support/Ãœbersicht/widgets/bar.widget" & true
        - Copying panel widgets

- link:
    $HOME/.dotconfig: usr/dotconfig
    $HOME/.profile: dotfiles/profile
    $HOME/.bash_profile: dotfiles/bash_profile
    $HOME/.bashrc: dotfiles/bashrc
    $HOME/.vimrc: dotfiles/vimrc
    $HOME/.tmux.conf: dotfiles/tmux.conf
    $HOME/.ideavimrc: dotfiles/ideavimrc
    $HOME/.vimperatorrc: dotfiles/vimperatorrc
    $HOME/.vimperator/colors: lib/firefox/vimperator/colors
    $HOME/.kwm/kwmrc: dotfiles/kwmrc
    $HOME/.khdrc: dotfiles/khdrc
    $HOME/.inputrc: dotfiles/inputrc
    $HOME/.gitconfig: dotfiles/gitconfig
    $HOME/.gitignore: dotfiles/gitignore
    $HOME/.gitconfig.local: usr/gitconfig
    $HOME/.gitmessage: dotfiles/gitmessage
    $HOME/.karabiner.d/configuration/karabiner.json: dotfiles/karabiner.json
    $HOME/.config/bspwm/bspwmrc: dotfiles/bspwmrc
    $HOME/.config/sxhkd/sxhkdrc: dotfiles/sxhkdrc
    $HOME/.config/dunst/dunstrc: dotfiles/dunstrc
    $HOME/.hushlogin: dotfiles/hushlogin
    $HOME/.compton.conf: dotfiles/compton.conf
    $HOME/.ncmpcpp/config: dotfiles/ncmpcpp
    $HOME/.config/polybar/config: dotfiles/polybar
    $HOME/.config/qutebrowser/qutebrowser.conf: dotfiles/qutebrowser.conf
